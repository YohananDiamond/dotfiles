[global/wm]
margin-bottom = 0
margin-top = 0

[bar/main]
monitor = ${env:MONITOR:}
monitor-strict = false
override-redirect = true
bottom = false
fixed-center = true
width = 100%
height = 18
background = ${color.bg}
foreground = ${color.fg}
font-0 = "JetBrains Mono Medium:size=9;2"

modules-left = ewmh layout
modules-center = title
modules-right = date
spacing = 0
dim-value = 1.0
wm-name = penrose

tray-position = right
tray-detached = false
tray-maxsize = 16
tray-background = ${color.bg}

[color]
bg = ${env:base00:}
fg = ${env:base05:}
urgent = ${env:base08:}
bg-alt = ${env:base02:}
fg-alt = ${env:base05:}

[module/ewmh]
type = internal/xworkspaces
pin-workspaces = false

format = <label-state>

label-active = " %index% "
label-occupied = " %index% "
label-urgent = " %index% "
label-empty = " %index% "

label-active-background = ${color.bg-alt}
label-active-foreground = ${color.fg}
label-occupied-background = ${color.bg}
label-occupied-foreground = ${color.fg}
label-urgent-background = ${color.urgent}
label-urgent-foreground = ${color.fg}
label-empty-background = ${color.bg}
label-empty-foreground = ${color.fg}

[module/kb]
type = internal/xkeyboard

[module/date]
type = internal/date

interval = 1.0
time = %Y-%m-%d, %I:%M %p
format = <label>
format-background = ${color.bg}
format-padding = 1
label = %time%

[module/title]
type = internal/xwindow

format = <label>
format-prefix = ""
format-prefix-foreground = ${color.fg}
label = %title%
label-maxlen = 100
label-empty = penrose

[module/layout]
type = custom/script
exec = awk '/\[INFO\] ACTIVE_LAYOUT/ { print $4 }' $XSESSIONDIR/wm | tail -n1
interval = 1
format-padding = 1
