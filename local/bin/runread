#!/usr/bin/env bash

# Runs "$@" and waits the user to press q.

if [ $# = 0 ]; then
  printf >&2 "%s\n" "Usage: $(basename $0) <command> [command]"
  exit 1
fi

"$@"
exitCode="$?"

printf ":"
while read -sn1 ch; do
  [ "$ch" = q ] && exit "$exitCode"
done
