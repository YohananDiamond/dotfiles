#!/usr/bin/env sh

# A script to launch emacs as a client or standalone, on TUI or GUI.

if [ $# = 0 ]; then
  printf >&2 "%s\n" "Usage: $(basename $0) {emacs | emacsclient} [other_args]"
  exit 1
fi

isTerm() { [ -t 1 ]; }

case "$1" in
  emacs)
    shift; isTerm \
      && exec emacs -nw "$@" \
      || exec emacs "$@" ;;

  emacsclient)
    shift; isTerm \
      && exec emacsclient -a "" -t "$@" \
      || exec emacsclient -a "" "$@" ;;

  *) printf "Bad command! %s\n" "$1" && exit 1 ;;
esac
