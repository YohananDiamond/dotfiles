#!/usr/bin/env sh

exists() { type "$1" >/dev/null 2>/dev/null; }

if exists nvim; then
  alias edit=nvim
elif exists vim; then
  alias edit=vim
else
  echo "Neither vim nor neovim were found."
  exit 1
fi

case $# in
  0) cat /dev/stdin | col -b | edit -c "PagerMode" - ;;
  1) cat "$1" | col -b | edit -c "PagerMode" - ;;
  2) cat "$1" | col -b | edit -c "PagerMode $2" - ;;
  *) echo "Invalid number of arguments." ;;
esac
