#!/usr/bin/env sh

# Uses `gen-sxhkd` and then actually starts sxhkd.

SXHKD_TEMP="${HOME}/.cache/sxhkd-config"
MKTEMP="$(mktemp)"
gen-sxhkd $@ > "$SXHKD_TEMP"

if [ -n "$MKTEMP" ]; then
  LOGFILE="$MKTEMP.sxhkd"
  sxhkd -c "$SXHKD_TEMP" -r "$LOGFILE"
else
  sxhkd -c "$SXHKD_TEMP"
fi
