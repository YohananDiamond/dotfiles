#!/usr/bin/env sh

# A script to launch emacs as a client or standalone, on TUI or GUI.

showHelp() {
  printf >&2 "%s\n" "Usage: $(basename $0) {emacs | emacsclient} [other_args]"
  exit 1
}
isTerm() { [ -t 1 ]; }

case "$1" in
  emacs)
    shift; isTerm \
      && exec emacs -nw "$@" \
      || exec emacs "$@" ;;

  emacsclient)
    shift; isTerm \
      && exec emacsclient -a "" -t "$@" \
      || exec emacsclient -a "" "$@" ;;

  *) showHelp ;;
esac
